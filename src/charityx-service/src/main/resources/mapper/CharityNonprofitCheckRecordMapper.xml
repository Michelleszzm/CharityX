<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.charity.x.dao.CharityNonprofitCheckRecordDao">

    <resultMap id="VoMap" type="com.charity.x.dto.vo.CharityNonprofitCheckRecordVo">
        <result column="user_id" property="userId"/>
        <result column="charity_nonprofit_id" property="charityNonprofitId"/>
        <result column="nonprofit_name" property="nonprofitName"/>
        <result column="proof_image" property="proofImage"/>
        <result column="source_status" property="sourceStatus"/>
        <result column="target_status" property="targetStatus"/>
        <result column="reason" property="reason"/>
        <result column="check_time" property="checkTime"/>
        <result column="create_by" property="createBy"/>
        <result column="update_by" property="updateBy"/>
    </resultMap>

    <sql id="Business_Column">
        id,user_id, charity_nonprofit_id, nonprofit_name, proof_image, source_status, target_status, reason, check_time, create_by, update_by
    </sql>
    <insert id="save">
        insert into charity_nonprofit_check_record (
                                                    user_id
                                                    <if test="charityNonprofitId != null">
                                                        , charity_nonprofit_id
                                                    </if>
                                                    <if test="nonprofitName != null">
                                                        , nonprofit_name
                                                    </if>
                                                    <if test="proofImage != null">
                                                        , proof_image
                                                    </if>
                                                    <if test="sourceStatus != null">
                                                        , source_status
                                                    </if>
                                                    <if test="targetStatus != null">
                                                        , target_status
                                                    </if>
                                                    <if test="reason != null">
                                                        , reason
                                                    </if>
                                                    <if test="checkTime != null">
                                                        , check_time
                                                    </if>
                                                    <if test="createBy != null">
                                                        , create_by
                                                    </if>
                                                    <if test="updateBy != null">
                                                        , update_by
                                                    </if>
                                                    )
        values (
                #{userId}
                <if test="charityNonprofitId != null">
                    , #{charityNonprofitId}
                </if>
                <if test="nonprofitName != null">
                    , #{nonprofitName}
                </if>
                <if test="proofImage != null">
                    , #{proofImage}
                </if>
                <if test="sourceStatus != null">
                    , #{sourceStatus}
                </if>
                <if test="targetStatus != null">
                    , #{targetStatus}
                </if>
                <if test="reason != null">
                    , #{reason}
                </if>
                <if test="checkTime != null">
                    , #{checkTime}
                </if>
                <if test="createBy != null">
                    , #{createBy}
                </if>
                <if test="updateBy != null">
                    , #{updateBy}
                </if>
                )
    </insert>
    <select id="queryByUserId" resultMap="VoMap">
        select <include refid="Business_Column"/>
        from charity_nonprofit_check_record
        where user_id = #{userId}
    </select>

</mapper>